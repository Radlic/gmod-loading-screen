<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Loading…</title>
<style>
  body {
    margin:0; padding:0;
    font-family: Arial, sans-serif;
    color:#fff;
    background: linear-gradient(120deg, #0f1115, #1b2230);
    display:flex; justify-content:center; align-items:center; height:100vh;
    flex-direction: column;
  }
  h1 { margin:0 0 20px; }
  .progress { width:80%; background:#222; height:20px; border-radius:10px; overflow:hidden; margin-bottom:10px; }
  .bar { width:0%; height:100%; background:#00e0ff; transition: width 0.2s; }
  .info { margin-top:10px; text-align:center; }
  audio { display:none; }
</style>
</head>
<body>

<h1>Joining My GMod Server…</h1>

<div class="progress"><div class="bar" id="bar"></div></div>
<div class="info">
  <p>Player: <span id="steamid"></span></p>
  <p>Map: <span id="map"></span></p>
  <p>Gamemode: <span id="gamemode"></span></p>
  <p>Players: <span id="players"></span></p>
</div>

<audio autoplay loop>
  <source src="background.mp3" type="audio/mpeg">
</audio>

<script>
  // Read URL params
  const params = new URLSearchParams(window.location.search);
  document.getElementById('steamid').textContent = params.get('steam') || 'Guest';
  document.getElementById('map').textContent = params.get('map') || 'Unknown';
  document.getElementById('gamemode').textContent = params.get('gm') || 'Sandbox';
  document.getElementById('players').textContent = params.get('players') || '0';

  // Animate progress bar
  const bar = document.getElementById('bar');
  let progress = 0;
  const steps = ['Preparing world…','Mounting content…','Downloading resources…','Almost there…','Joining server…'];
  let step = 0;
  function tick(){
    progress += Math.random()*5 + 2;
    if(progress > (step+1)*20 && step < steps.length-1){ step++; document.querySelector('h1').textContent = steps[step]; }
    if(progress < 100){ bar.style.width = progress + '%'; requestAnimationFrame(tick); }
    else { bar.style.width='100%'; document.querySelector('h1').textContent='Joining server…'; }
  }
  tick();
</script>
</body>
</html>
