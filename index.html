<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Loading Radlic's Hangout Spot…</title>
<style>
  html, body {
    margin:0; padding:0;
    width:100%; height:100%;
    font-family: Arial, sans-serif;
    overflow:hidden;
  }

  /* Background gradient: black → dark red */
  body {
    background: linear-gradient(120deg,#000000,#330000);
    color:#fff;
    display:flex; justify-content:center; align-items:center;
    flex-direction: column;
  }

  /* Fullscreen overlay with fade-in */
  #overlay {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background: url('https://radlic.github.io/gmod-loading-screen/background.jpg') no-repeat center center fixed;
    background-size: cover;
    z-index:999;
    opacity:1;
    transition: opacity 1s ease;
    display:flex; justify-content:center; align-items:center;
    flex-direction: column;
  }

  /* Red spinner */
  .spinner {
    border: 5px solid rgba(255,0,0,0.2);
    border-top: 5px solid #ff0000;
    border-radius: 50%;
    width: 60px; height: 60px;
    animation: spin 1s linear infinite;
    margin-bottom:20px;
  }
  @keyframes spin { 100% { transform: rotate(360deg); } }

  h1 { margin:0 0 20px 0; text-align:center; }

  .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:16px; width:90%; max-width:1000px; }

  .card {
    background: rgba(0,0,0,0.7); /* semi-transparent black */
    border-radius:10px; padding:15px;
    backdrop-filter: blur(4px);
    border:1px solid #ff0000; /* red border */
  }

  .card h2 { margin-top:0; font-size:1.2em; border-bottom:1px solid #ff0000; padding-bottom:5px; }
  .card ul { list-style:none; padding-left:0; margin-top:10px; }
  .card ul li { margin-bottom:5px; }

  .progress { width:100%; background:#111; height:15px; border-radius:10px; overflow:hidden; margin-top:10px; }
  .bar { width:0%; height:100%; background:#ff0000; transition: width 0.2s; }

  footer { margin-top:20px; text-align:center; color:#ccc; font-size:0.9em; }

  @media(max-width:600px){ .grid{grid-template-columns:1fr;} }
</style>
</head>
<body>

<div id="overlay">
  <div class="spinner"></div>
  <h1>Loading Radlic's Hangout Spot…</h1>
</div>

<div id="content" style="opacity:0; transition: opacity 1s;">
  <div class="grid">
    <div class="card">
      <h2>Rules</h2>
      <ul>
        <li>No Prop-abusing</li>
        <li>No Cheats/Exploits</li>
        <li>No Spamming</li>
        <li>No Prop-killing</li>
      </ul>
    </div>

    <div class="card">
      <h2>Staff</h2>
      <ul>
        <li>Radlic - Owner</li>
        <li>ALDUMGAMES - Super Admin</li>
      </ul>
    </div>

    <div class="card">
      <h2>Server Info</h2>
      <ul>
        <li>Player: <span id="steamid"></span></li>
        <li>Map: <span id="map"></span></li>
        <li>Gamemode: <span id="gamemode"></span></li>
        <li>Players: <span id="players"></span></li>
      </ul>
      <div class="progress"><div class="bar" id="bar"></div></div>
    </div>
  </div>

  <footer>&copy; <span id="year"></span> Radlic's Hangout Spot • Join our Discord!</footer>
</div>

<audio id="bgmusic" loop>
  <source src="https://radlic.github.io/gmod-loading-screen/background.mp3" type="audio/mpeg">
</audio>

<script>
  // Wait for all assets to load
  window.addEventListener('load', function(){
    const overlay = document.getElementById('overlay');
    const content = document.getElementById('content');

    // Play music
    const music = document.getElementById('bgmusic');
    music.play().catch(()=>console.log('Autoplay blocked'));

    // Fade overlay and show content
    overlay.style.opacity = 0;
    setTimeout(()=>overlay.style.display='none',1000);
    content.style.opacity = 1;
  });

  // Dynamic URL params
  const params = new URLSearchParams(window.location.search);
  document.getElementById('steamid').textContent = params.get('steam') || 'Guest';
  document.getElementById('map').textContent = params.get('map') || 'Unknown';
  document.getElementById('gamemode').textContent = params.get('gm') || 'Sandbox';
  document.getElementById('players').textContent = params.get('players') || '0';

  // Animate progress bar
  const bar = document.getElementById('bar');
  const loadingText = document.querySelector('#content h1') || document.getElementById('loadingText');
  const steps = ['Preparing world…','Mounting content…','Downloading resources…','Almost there…','Joining server…'];
  let progress = 0, step = 0;
  function tick(){
    progress += Math.random()*5 + 2;
    if(progress > (step+1)*20 && step < steps.length-1){ step++; loadingText.textContent = steps[step]; }
    if(progress < 100){ bar.style.width = progress + '%'; requestAnimationFrame(tick); }
    else { bar.style.width='100%'; loadingText.textContent='Joining Radlic\'s Hangout Spot…'; }
  }
  tick();

  document.getElementById('year').textContent = new Date().getFullYear();
</script>

</body>
</html>
